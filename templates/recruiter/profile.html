{% extends 'base.html' %}
{% block title %}Recruiter Profile{% endblock %}
{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='profile.css') }}">
{% endblock %}

{% block content %}

    <section id="profile">
        <h1>Recruiter Profile</h1>

        <div class="nameField">
            <input type="text" name="name" id="name" placeholder="Full Name" value="{{ recruiter.name }}">
            <input type="email" name="email" id="email" placeholder="Email Address" value="{{ recruiter.email }}">
        </div>

        <div class="inputField">
            <label for="company">Company</label>
            <input type="text" name="company" id="company" placeholder="Company Name" value="{{ recruiter.company }}">
        </div>

        <div class="inputField">
            <label for="location">Location</label>
            <input type="text" name="location" id="location" placeholder="City, Country" value="{{ recruiter.location }}">
        </div>

        <div class="inputField">
            <label for="website">Company Website</label>
            <input type="url" name="website" id="website" placeholder="https://company.com" value="{{ recruiter.website }}">
        </div>

        <div class="inputField">
            <label for="contactEmail">Contact Email</label>
            <input type="email" name="contactEmail" id="contactEmail" placeholder="Contact Email" value="{{ recruiter.contact_email }}">
        </div>

        <div class="inputField">
            <label for="contactNumber">Contact Number</label>
            <input type="tel" name="contactNumber" id="contactNumber" placeholder="Contact Number" value="{{ recruiter.contact_number }}">
        </div>

        <div class="buttons">
            <button class="saveProfile" onclick="saveProfile()">Save Profile</button>
        </div>
    </section>

    <section id="jobs">
        <div class="top">
            <h1>My Job Posts</h1>
            <button id="addJob" onclick="addJob()">Create New Job</button>
        </div>

        <div class="container">
            {% for job in jobs %}
            <div class="jobField" jobId="{{ job.jobId }}">
                <div class="jobContainer">
                    <div class="jobHeader">
                        <div class="inputField">
                            <label for="job-title-{{ job.jobId }}">Job Title</label>
                            <input type="text" id="job-title-{{ job.jobId }}" class="title" value="{{ job.title }}" placeholder="Job Title" />
                        </div>
                        <div class="inputField">
                            <label for="job-location-{{ job.jobId }}">Location</label>
                            <input type="text" id="job-location-{{ job.jobId }}" class="location" value="{{ job.location }}" placeholder="Job Location" />
                        </div>
                    </div>
                    <div class="jobDetails">
                        <div class="inputField">
                            <label for="job-salary-{{ job.jobId }}">Salary</label>
                            <input type="number" id="job-salary-{{ job.jobId }}" class="salary" value="{{ job.salary }}" placeholder="Salary" step="0.01" />
                        </div>
                        <div class="inputField">
                            <label for="job-experience-{{ job.jobId }}">Experience (Years)</label>
                            <input type="number" id="job-experience-{{ job.jobId }}" class="experience" value="{{ job.experience }}" placeholder="Experience Required" />
                        </div>
                    </div>
                    <div class="inputField">
                        <label for="job-description-{{ job.jobId }}">Description</label>
                        <textarea id="job-description-{{ job.jobId }}" name="description" class="description">{{ job.description }}</textarea>
                    </div>
                    <div class="jobSkills">
                        <label>Required Skills:</label>
                        <div class="skillsContainer">
                            {% for skill in job.skills %}
                            <div class="skillTag" skillId="{{ skill.skillId }}">
                                <span>{{ skill.skill }}</span>
                                <button class="removeJobSkill" jobId="{{ job.jobId }}" skillId="{{ skill.skillId }}" onclick="removeJobSkill(this)">âœ•</button>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="addSkillSection">
                            <input type="text" class="newJobSkill" placeholder="Add skill">
                            <button class="addJobSkill" jobId="{{ job.jobId }}" onclick="addJobSkill(this)">Add Skill</button>
                        </div>
                    </div>
                    <div class="jobStats">
                        <span class="applicationCount">Applications: {{ job.applicationCount }}</span>
                        <a href="{{ url_for('recruiter_dashboard.job_detail', job_id=job.jobId) }}" class="viewApplications">View Applications</a>
                    </div>
                </div>
                <div class="buttons">
                    <div class="removeBtn">
                        <button class="removeJob" jobId="{{ job.jobId }}" onclick="removeJob(this)">Delete Job</button>
                    </div>
                    <div class="saveButton">
                        <button class="saveJob" jobId="{{ job.jobId }}" onclick="saveJob(this)">Save Changes</button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='recruiter_profile.js') }}"></script>
{% endblock %}